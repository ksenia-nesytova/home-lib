<article class="card">
    <img [src]="currentCard().coverImage" alt="Cover of The Tragedy of Julius Caesar" class="card__cover" />

    <header class="card__header">
        <h2>
            <app-editable-field [value]="currentCard().title || ''" (valueChange)="updateField('title', $event)" />
        </h2>
        <time>{{currentCard().dateAdded}}</time>
        <div class="card__input-block">
            <label class="card__label">Author:</label>
            <app-editable-field [value]="currentCard().author || ''" (valueChange)="updateField('author', $event)" />
        </div>
        <div class="card__input-block">
            <label class="card__label">Media type:</label>

            <app-editable-select [options]="MEDIA_OPTIONS" [value]="currentCard().mediaType"
                (valueChange)="onMediaTypeChange($event)" />
        </div>

        <div class="card__input-block">
            <label class="card__label">Creation date:</label>
            <app-editable-field [value]="currentCard().creationDate || ''"
                (valueChange)="updateField('creationDate', $event)" />
        </div>

        <div class="card__input-block">
            <label class="card__label">Language:</label>
            <app-editable-field [value]="currentCard().language || ''"
                (valueChange)="updateField('language', $event)" />
        </div>
    </header>


    <section class="card__section">
        <h3>Tags</h3>
        <ul>
            <li>Tragedy</li>
            <li>Shakespeare</li>
            <li>Julius Caesar</li>
            <li>Brutus</li>
        </ul>
    </section>


    <section class="card__section">
        <h3>Description</h3>
        <app-editable-field [value]="currentCard().description || ''" [type]="'textarea'"
            (valueChange)="updateField('description', $event)" />
    </section>

    <section class="card__section">
        <h3>Notes</h3>
        <app-editable-field [value]="currentCard().notes || ''" [type]="'textarea'"
            (valueChange)="updateField('notes', $event)" />
    </section>

    <hr class="divider">

    <footer class="card__footer">
        <div class="card__input-block card__footer-text">
            Location: <app-editable-field [value]="currentCard().location || ''" class="card__footer-text"
                (valueChange)="updateField('location', $event)" />
        </div>

        <div class="card__input-block">
            <p class="card__footer-text">My rating:</p>
            <app-star-rating [isReadOnly]="false" [inputRating]="currentCard()?.rating || 0" [maxRating]="5"
                (valueChange)="updateField('rating', $event)" />
        </div>
    </footer>
</article>